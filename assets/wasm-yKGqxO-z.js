let i=!1,o=null;const s=async()=>{if(i)return!0;try{window.Go||await c("/wasm_exec.js");const e=new window.Go,a=await(await fetch("/main.wasm")).arrayBuffer();return o=(await WebAssembly.instantiate(a,e.importObject)).instance,e.run(o),i=!0,console.log("WebAssembly initialized successfully"),!0}catch(e){return console.error("Failed to initialize WebAssembly:",e),!1}},c=e=>new Promise((n,a)=>{const t=document.createElement("script");t.src=e,t.onload=()=>n(),t.onerror=()=>a(new Error(`Failed to load script: ${e}`)),document.head.appendChild(t)}),m=async(e,n)=>{if(!i&&!await s())throw new Error("WebAssembly not available, falling back to mock data");try{const a={...e,rows:n},t=JSON.stringify(a);if(window.generateData)return window.generateData(t);throw new Error("generateData function not available")}catch(a){throw console.error("WASM generation failed:",a),a}},d=async()=>{if(!i&&!await s())return r();try{if(window.getAvailableTypes){const e=window.getAvailableTypes();return JSON.parse(e)}else return r()}catch(e){return console.error("Failed to get types from WASM:",e),r()}},r=()=>[{id:"first_name",name:"First Name",category:"Person"},{id:"last_name",name:"Last Name",category:"Person"},{id:"full_name",name:"Full Name",category:"Person"},{id:"email",name:"Email",category:"Internet"},{id:"phone",name:"Phone",category:"Person"},{id:"address",name:"Address",category:"Location"},{id:"city",name:"City",category:"Location"},{id:"state",name:"State",category:"Location"},{id:"country",name:"Country",category:"Location"},{id:"zip_code",name:"Zip Code",category:"Location"},{id:"company",name:"Company",category:"Business"},{id:"job_title",name:"Job Title",category:"Business"},{id:"number",name:"Number",category:"Numeric",hasOptions:!0},{id:"decimal",name:"Decimal",category:"Numeric",hasOptions:!0},{id:"boolean",name:"Boolean",category:"Misc"},{id:"date",name:"Date",category:"Date/Time"},{id:"datetime",name:"Date Time",category:"Date/Time"},{id:"uuid",name:"UUID",category:"Misc"},{id:"username",name:"Username",category:"Internet"},{id:"password",name:"Password",category:"Internet"},{id:"url",name:"URL",category:"Internet"},{id:"ip_address",name:"IP Address",category:"Internet"},{id:"credit_card",name:"Credit Card",category:"Finance"},{id:"color",name:"Color",category:"Misc"},{id:"lorem_ipsum",name:"Lorem Ipsum",category:"Text",hasOptions:!0},{id:"custom_list",name:"Custom List",category:"Custom",hasOptions:!0}];export{m as generateDataWithWasm,d as getAvailableTypesFromWasm,s as initializeWasm};
